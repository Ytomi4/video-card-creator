## Figma プラグイン 実装計画

### 1. マスク画像の取得

- Figma Plugin API を利用し、選択したフレームや画像（PNG 等）を取得する処理を実装。
- UI で画像選択・取得ボタンを設置。

### 2. 動画ファイルの指定・アップロード

- プラグイン UI に動画ファイル（WebM, MP4 等）をアップロードできるコンポーネントを実装。
- アップロードした動画のプレビュー表示。

### 3. 画像＋動画の合成表示

- canvas 要素上で、マスク画像を上層、動画を下層に重ねて描画。
- 動画の位置・スケール調整機能（ドラッグ・スライダー等）を UI に実装。
- 合成状態のリアルタイムプレビュー。

### 4. 合成状態の録画・書き出し

- 録画開始ボタンで、動画再生と canvas の録画を同時に開始。
- 動画再生終了時に録画も自動停止するロジックを実装。
- MediaRecorder API で canvas の内容を WebM 形式で保存。
- （任意）手動停止ボタンの実装。

### 5. UI 設計・ユーザビリティ

- 直感的な操作ができる UI 設計（画像・動画選択、調整、録画、保存）。
- エラーハンドリング（ファイル形式不正、API 失敗時など）。

### 6. テスト・検証

- 主要機能ごとにユニットテスト・動作検証。
- Figma のサンドボックス制約下での動作確認。

### 7. ドキュメント・リリース

- 利用手順・注意事項のドキュメント作成。
- Figma Plugin として公開・配布準備。
